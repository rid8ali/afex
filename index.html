<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>AFEX — Dream • Build • Lead • Learn</title>
  <meta name="description" content="AFEX Handbook — modern, animated site with curriculum, events, countdowns, and membership." />
  <meta name="theme-color" content="#6d28d9" />

  <!-- Inline SVG favicons so repo stays single-file; replace with assets if you add them -->
  <link rel="icon" type="image/svg+xml" href='data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 64 64"><defs><linearGradient id="g" x1="0" x2="1"><stop stop-color="%23d6bfff"/><stop offset="1" stop-color="%238b5cf6"/></linearGradient></defs><rect width="64" height="64" rx="12" fill="%23100829"/><path d="M22 44 32 8l6 20-6 16H22zm20 12-8-20 6-16 12 36z" fill="url(%23g)"/></svg>' />

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;900&family=JetBrains+Mono:wght@400;600;800&display=swap" rel="stylesheet">

  <style>
    :root{
      --bg:#060316; --panel:#120b24; --panel2:#0f0a1d; --txt:#f3ecff; --muted:#b8a9d6;
      --vio1:#e9d8ff; --vio2:#d6bfff; --vio3:#b794f4; --vio4:#8b5cf6; --vio5:#7c3aed; --vio6:#6d28d9; --accent:#ff6fb3; --mint:#48ffe7;
      --radius:18px; --shadow:0 18px 60px rgba(0,0,0,.55);
    }
    *{box-sizing:border-box}
    html,body{height:100%; margin:0; font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif; background:radial-gradient(1000px 600px at 10% -10%, rgba(139,92,246,.14), transparent 40%), linear-gradient(180deg,var(--bg), #03020a); color:var(--txt); scroll-behavior:smooth}

    /* Global utilities */
    .container{width:min(1200px,94vw); margin-inline:auto}
    .card{background:linear-gradient(180deg,var(--panel),var(--panel2)); border-radius:var(--radius); border:1px solid rgba(139,92,246,.28); box-shadow:var(--shadow); overflow:hidden}
    .pad{padding:28px}
    .muted{color:var(--muted)}
    .mono{font-family:'JetBrains Mono', ui-monospace, Menlo, Consolas, monospace}
    .pill{display:inline-flex; gap:10px; align-items:center; padding:8px 12px; border-radius:999px; font-weight:900; font-size:12px; background:linear-gradient(90deg, rgba(139,92,246,.12), rgba(200,140,255,.06)); border:1px solid rgba(139,92,246,.22)}
    .btn{display:inline-flex; gap:10px; align-items:center; padding:10px 14px; border-radius:12px; background:linear-gradient(180deg,#221037,#140726); border:1px solid rgba(200,140,255,.25); color:var(--txt); font-weight:800; cursor:pointer; text-decoration:none}
    .btn:active{transform:translateY(1px)}

    /* Nav */
    header{position:sticky; top:0; z-index:60; backdrop-filter:blur(14px) saturate(160%); background:linear-gradient(180deg, rgba(18,11,36,.6), rgba(9,6,16,.6)); border-bottom:1px solid rgba(139,92,246,.12)}
    .nav-inner{display:flex; align-items:center; justify-content:space-between; gap:12px; padding:12px 0; width:min(1200px,94vw); margin-inline:auto}
    .brand{display:flex; gap:12px; align-items:center; text-decoration:none; color:var(--txt)}
    .logo{width:42px; height:42px; border-radius:10px; background:conic-gradient(from 140deg,var(--vio4),var(--vio2),var(--mint)); box-shadow:0 10px 28px rgba(139,92,246,.18)}
    nav a{color:var(--muted); text-decoration:none; font-weight:700; padding:8px 10px; border-radius:10px}
    nav a:hover{color:var(--txt); background:linear-gradient(90deg, rgba(139,92,246,.12), transparent)}

    /* Main layout: sections act as slides but allow normal scroll */
    main{scroll-snap-type:y proximity}
    section{min-height:100svh; padding:64px 0; display:grid; place-items:center; scroll-snap-align:start}

    /* Hero */
    .hero-card{position:relative; overflow:hidden}
    .hero-orb{position:absolute; width:52vmin; height:52vmin; border-radius:999px; filter:blur(56px); opacity:.28}
    .hero-orb.o1{left:-10vmin; top:-14vmin; background:radial-gradient(circle,var(--vio4),transparent 60%)}
    .hero-orb.o2{right:-12vmin; top:-18vmin; background:radial-gradient(circle,var(--mint),transparent 60%)}
    .hero-title{font-weight:900; font-size:clamp(32px,6vw,76px); line-height:1; letter-spacing:.02em; background:linear-gradient(90deg,var(--vio2),var(--vio4),var(--accent)); -webkit-background-clip:text; color:transparent}
    .hero-sub{max-width:880px; color:var(--muted); font-size:16px}

    /* Sections */
    .cols{display:grid; grid-template-columns:1fr 420px; gap:28px; align-items:start}
    @media (max-width:980px){ .cols{grid-template-columns:1fr} }

    .founders{display:flex; gap:12px; flex-direction:column}
    .founder{display:flex; gap:12px; align-items:center}
    .founder img{width:72px; height:72px; border-radius:14px; object-fit:cover; border:1px solid rgba(255,255,255,.06); background:linear-gradient(180deg,#130521,#0f0817);}

    .grid-3{display:grid; grid-template-columns:repeat(3,1fr); gap:18px}
    @media (max-width:900px){ .grid-3{grid-template-columns:1fr} }

    /* Event cards */
    .event{padding:18px; border-radius:14px; background:linear-gradient(180deg,#190b2a,#12061a); border:1px solid rgba(139,92,246,.22); display:flex; flex-direction:column; gap:8px}
    .badge{display:inline-block; padding:6px 10px; border-radius:999px; font-weight:900; font-size:12px; background:linear-gradient(90deg,var(--vio4),var(--vio2)); color:#080016}
    .count{font-family:monospace; font-weight:900}

    /* interactive helpers */
    .reveal{opacity:0; transform:translateY(12px) scale(.998); transition:opacity .65s ease, transform .65s ease}
    .reveal.show{opacity:1; transform:none}

    /* footer */
    footer{padding:56px 0; color:var(--muted)}
    .foot{width:min(1200px,94vw); margin-inline:auto; display:flex; align-items:center; justify-content:space-between}

    /* small screens */
    @media (max-width:720px){ .nav-inner{padding:10px} .hero-title{font-size:42px} }
  </style>
</head>
<body>
  <div aria-hidden="true" style="position:fixed; inset:0; pointer-events:none; z-index:0">
    <!-- Decorative particle canvas (confetti particles later) -->
    <canvas id="bgCanvas" style="width:100%; height:100%; display:block"></canvas>
  </div>

  <header>
    <div class="nav-inner container">
      <a class="brand" href="#home"><div class="logo" aria-hidden="true"></div><div style="font-weight:900; margin-left:6px">AFEX</div></a>
      <nav>
        <a href="#about">About</a>
        <a href="#curriculum">Curriculum</a>
        <a href="#events">Events</a>
        <a href="#join">Join</a>
      </nav>
    </div>
  </header>

  <main>
    <!-- HERO -->
    <section id="home" aria-label="Home" class="reveal">
      <div class="container">
        <div class="card pad hero-card">
          <div class="hero-orb o1"></div>
          <div class="hero-orb o2"></div>
          <div style="display:flex; gap:20px; align-items:center; justify-content:space-between; flex-wrap:wrap">
            <div style="max-width:760px">
              <div class="pill">Powered by Anant LLC</div>
              <h1 class="hero-title" style="margin-top:12px">HHAANNDDBBOOOOKK</h1>
              <p class="hero-sub" style="margin-top:8px">D R E A M • B U I L D • L E A D • L E A R N — Master practical, real‑world finance. Real projects. National competitions. Professional mentorship.</p>
              <div style="margin-top:16px; display:flex; gap:12px; flex-wrap:wrap">
                <a class="btn" href="#about" id="ctaExplore">Explore</a>
                <a class="btn" href="#events">Upcoming Events</a>
                <button class="btn" id="ctaJoin">Quick Join</button>
              </div>
            </div>
            <div style="width:340px; text-align:right">
              <img src="afex.png" alt="AFEX logo" style="width:160px; height:160px; object-fit:contain; border-radius:20px; border:1px solid rgba(255,255,255,.06)"/>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- ABOUT -->
    <section id="about" aria-label="About AFEX" class="reveal">
      <div class="container">
        <div class="card pad">
          <div style="display:flex; justify-content:space-between; gap:20px; align-items:flex-start; flex-wrap:wrap">
            <div style="flex:1; min-width:260px">
              <div class="pill">Meet the team</div>
              <h2 style="margin-top:12px">Co‑Founders</h2>
              <p class="muted" style="margin-top:8px">AFEX is built to teach practical finance and give students real consulting and competition experience — accessible to beginners and advanced members alike.</p>

              <div style="margin-top:18px" class="founders">
                <div class="founder">
                  <img src="afex.png" alt="Vennela Kunchala"/>
                  <div>
                    <div style="font-weight:800">Vennela Kunchala</div>
                    <div class="muted">Co‑Founder</div>
                    <a href="https://www.linkedin.com/in/vennela-kunchala-a904a6313/" target="_blank" rel="noopener">LinkedIn →</a>
                  </div>
                </div>
                <div class="founder">
                  <img src="afex.png" alt="Vrund Gurjar"/>
                  <div>
                    <div style="font-weight:800">Vrund Gurjar</div>
                    <div class="muted">Co‑Founder</div>
                    <a href="https://www.linkedin.com/in/vrund-gurjar-b707bb2aa/" target="_blank" rel="noopener">LinkedIn →</a>
                  </div>
                </div>
              </div>
            </div>

            <aside style="width:360px">
              <div style="display:flex; gap:10px; align-items:center; justify-content:space-between; margin-bottom:8px">
                <div class="pill">Snapshot</div>
                <div class="muted mono">15+ meetings • $15/yr</div>
              </div>
              <div class="card pad" style="padding:12px; background:linear-gradient(180deg,#170928,#12061a); border-radius:14px">
                <div style="font-weight:900; font-size:18px">Why AFEX</div>
                <p class="muted" style="margin-top:8px">Practical curriculum, national network, chances to consult with real businesses and win competitions — all accessible.</p>
                <div style="display:flex; gap:8px; margin-top:12px">
                  <a class="btn" href="#curriculum">Curriculum</a>
                  <a class="btn" href="mailto:hello@afex.org?subject=Partnerships">Partner</a>
                </div>
              </div>
            </aside>
          </div>
        </div>
      </div>
    </section>

    <!-- CURRICULUM -->
    <section id="curriculum" aria-label="Curriculum" class="reveal">
      <div class="container">
        <div class="card pad">
          <div class="pill">Curriculum</div>
          <h2 style="margin-top:12px">Learn • Practice • Lead</h2>
          <p class="muted" style="margin-top:8px">A scaffolded track from basic financial literacy to advanced consulting and investment analysis.</p>

          <div style="margin-top:16px" class="grid-3">
            <div class="event">
              <div class="badge">Credit & Debt</div>
              <div style="font-weight:800; margin-top:6px">Credit building & smart borrowing</div>
              <div class="muted" style="margin-top:6px">Personal finance fundamentals and credit strategy for real life.</div>
              <div style="margin-top:10px; display:flex; gap:8px">
                <a class="btn" href="#events">See cases</a>
                <a class="btn" href="mailto:hello@afex.org?subject=Curriculum%20Inquiry">Ask</a>
              </div>
            </div>

            <div class="event">
              <div class="badge" style="background:linear-gradient(90deg,var(--vio4),var(--vio3))">Investing</div>
              <div style="font-weight:800; margin-top:6px">Long‑term portfolio construction</div>
              <div class="muted" style="margin-top:6px">Stocks, ETFs, risk management, and storytelling for pitches.</div>
              <div style="margin-top:10px; display:flex; gap:8px">
                <a class="btn" href="#events">Stock pitch</a>
                <a class="btn" href="#join">Join workshop</a>
              </div>
            </div>

            <div class="event">
              <div class="badge" style="background:linear-gradient(90deg,var(--mint),var(--vio4))">Consulting</div>
              <div style="font-weight:800; margin-top:6px">Real business challenges</div>
              <div class="muted" style="margin-top:6px">Solve short client projects—data, recommendations, and presentation.</div>
              <div style="margin-top:10px; display:flex; gap:8px">
                <a class="btn" href="#events">Competition</a>
                <a class="btn" href="mailto:hello@afex.org?subject=Consulting%20Inquiry">Apply</a>
              </div>
            </div>

          </div>
        </div>
      </div>
    </section>

    <!-- EVENTS WITH COUNTDOWNS -->
    <section id="events" aria-label="Events" class="reveal">
      <div class="container">
        <div class="card pad">
          <div style="display:flex; align-items:center; justify-content:space-between">
            <div>
              <div class="pill">Events</div>
              <h2 style="margin-top:8px">Upcoming</h2>
            </div>
            <div class="muted">Live countdowns • RSVP saved locally</div>
          </div>

          <div style="margin-top:18px" class="grid-3">
            <!-- Event 1 -->
            <div class="event" data-deadline="2025-12-01T23:00:00Z" data-id="stock-pitch">
              <div style="display:flex; justify-content:space-between; align-items:center">
                <div class="badge">Stock Pitch</div>
                <div class="muted">Team • 3</div>
              </div>
              <h3 style="margin:8px 0">Winter Qualifier</h3>
              <div class="count" data-countdown>Loading…</div>
              <p class="muted">Pitch an investment idea to judges. Top teams advance.</p>
              <div style="display:flex; gap:8px; margin-top:10px">
                <button class="btn rsvp" data-event="stock-pitch">RSVP</button>
                <a class="btn" href="mailto:hello@afex.org?subject=Stock%20Pitch%20Signup">Email</a>
              </div>
            </div>

            <!-- Event 2 -->
            <div class="event" data-deadline="2025-11-10T23:00:00Z" data-id="consultation">
              <div style="display:flex; justify-content:space-between; align-items:center">
                <div class="badge" style="background:linear-gradient(90deg,var(--mint),var(--vio4))">Consultation</div>
                <div class="muted">Team • 3–5</div>
              </div>
              <h3 style="margin:8px 0">Client Challenge</h3>
              <div class="count" data-countdown>Loading…</div>
              <p class="muted">Solve a real company problem over two weeks with a final presentation.</p>
              <div style="display:flex; gap:8px; margin-top:10px">
                <button class="btn rsvp" data-event="consultation">RSVP</button>
                <a class="btn" href="mailto:hello@afex.org?subject=Consultation%20Signup">Email</a>
              </div>
            </div>

            <!-- Event 3 -->
            <div class="event" data-deadline="2025-10-15T23:00:00Z" data-id="workshop">
              <div style="display:flex; justify-content:space-between; align-items:center">
                <div class="badge" style="background:linear-gradient(90deg,var(--vio4),var(--accent))">Workshop</div>
                <div class="muted">Open</div>
              </div>
              <h3 style="margin:8px 0">Finance 101 Live</h3>
              <div class="count" data-countdown>Loading…</div>
              <p class="muted">A practical kickoff for budgeting, credit, and investing basics.</p>
              <div style="display:flex; gap:8px; margin-top:10px">
                <button class="btn rsvp" data-event="workshop">RSVP</button>
                <a class="btn" href="#join">Reserve</a>
              </div>
            </div>

          </div>
        </div>
      </div>
    </section>

    <!-- JOIN -->
    <section id="join" aria-label="Join AFEX" class="reveal">
      <div class="container">
        <div class="card pad" style="text-align:center">
          <img src="afex.png" alt="AFEX" style="width:92px; height:92px; object-fit:contain; border-radius:16px; display:block; margin-inline:auto" />
          <h2 style="margin-top:12px">Join AFEX</h2>
          <p class="muted">Membership: $15/year. Access to curriculum, competitions, mentorship, and a national community.</p>
          <div style="display:flex; gap:12px; justify-content:center; margin-top:12px; flex-wrap:wrap">
            <a class="btn" href="mailto:hello@afex.org?subject=Join%20AFEX">Email to Join</a>
            <button class="btn" id="discordBtn">Join Discord</button>
            <a class="btn" href="#home">Back to top</a>
          </div>

          <div style="margin-top:18px" class="muted">RSVPs you make are stored locally in your browser so you can track which events you signed up for. Use the Print button in the footer to save a PDF.</div>
        </div>
      </div>
    </section>

  </main>

  <footer>
    <div class="container foot">
      <div style="display:flex; gap:12px; align-items:center">
        <div class="logo" style="width:28px; height:28px; border-radius:8px; background:conic-gradient(from 140deg,var(--vio4),var(--vio2),var(--mint));"></div>
        <div class="muted mono">AFEX © <span id="year"></span></div>
      </div>
      <div style="display:flex; gap:10px; align-items:center">
        <button class="btn" id="printBtn">Print / Save PDF</button>
        <button class="btn" id="palette">🎨 Palette</button>
        <button class="btn" id="toggleSound">🔊 Sound</button>
      </div>
    </div>
  </footer>

  <!-- Discord modal -->
  <dialog id="discordModal" style="border:none; border-radius:16px; padding:0; width:min(520px,92vw); background:linear-gradient(180deg,#1a1036,#120b24); color:var(--txt)">
    <div class="pad">
      <h3 style="margin:0 0 8px">Discord</h3>
      <p class="muted" id="discordState">No public invite yet. Provide your invite and it will open directly.</p>
      <div style="display:flex; gap:8px; margin-top:12px">
        <a id="discordOpen" class="btn" href="#">Open Discord</a>
        <a class="btn" href="mailto:hello@afex.org?subject=Discord%20Access">Email for access</a>
        <button class="btn" id="discordClose">Close</button>
      </div>
    </div>
  </dialog>

  <script>
    // =========================
    // AFEX — Enhanced Interactions
    // =========================

    // ---- Utility: audio synth ping (used for transitions) ----
    let audioEnabled = true;
    function ping(freq=880, dur=0.08, decay=0.03){
      if(!audioEnabled) return;
      try{
        const actx = new (window.AudioContext || window.webkitAudioContext)();
        const o = actx.createOscillator();
        const g = actx.createGain();
        o.type = 'sine'; o.frequency.value = freq;
        g.gain.setValueAtTime(0.09, actx.currentTime);
        g.gain.exponentialRampToValueAtTime(0.0001, actx.currentTime + dur);
        o.connect(g); g.connect(actx.destination);
        o.start(); o.stop(actx.currentTime + dur + 0.02);
      }catch(e){/* ignore */}
    }

    // ---- Basic reveal on scroll ----
    const reveals = document.querySelectorAll('.reveal');
    const io = new IntersectionObserver((entries)=>{
      entries.forEach(en=>{
        if(en.isIntersecting){
          en.target.classList.add('show'); ping(880,0.06); io.unobserve(en.target);
        }
      });
    }, {threshold:0.12});
    reveals.forEach(r=>io.observe(r));

    // ---- Background canvas: gentle moving particles (no external libs) ----
    (function(){
      const canvas = document.getElementById('bgCanvas'); if(!canvas) return;
      const ctx = canvas.getContext('2d'); let w=0,h=0, particles=[];
      const DPR = Math.max(1, window.devicePixelRatio || 1);
      function resize(){ w = canvas.clientWidth; h = canvas.clientHeight; canvas.width = Math.floor(w*DPR); canvas.height = Math.floor(h*DPR); ctx.scale(DPR,DPR); }
      function rand(min,max){ return Math.random()*(max-min)+min; }
      function init(){ particles = []; const count = Math.max(18, Math.floor((w*h)/90000)); for(let i=0;i<count;i++){ particles.push({x:rand(0,w), y:rand(0,h), r:rand(0.6,3.2), xv:rand(-0.1,0.1), yv:rand(-0.06,0.06), hue:rand(250,300)}); } }
      function draw(){ ctx.clearRect(0,0,w,h); for(const p of particles){ p.x += p.xv; p.y += p.yv; if(p.x< -20) p.x = w+20; if(p.x> w+20) p.x = -20; if(p.y< -20) p.y = h+20; if(p.y> h+20) p.y = -20;
          ctx.beginPath(); const g = ctx.createRadialGradient(p.x,p.y,0,p.x,p.y,p.r*8); g.addColorStop(0, `hsla(${p.hue},100%,60%,0.13)`); g.addColorStop(1,'rgba(0,0,0,0)'); ctx.fillStyle = g; ctx.arc(p.x,p.y,p.r,0,Math.PI*2); ctx.fill(); }
      }
      function loop(){ draw(); requestAnimationFrame(loop); }
      window.addEventListener('resize', ()=>{ resize(); init(); }); resize(); init(); loop();
    })();

    // ---- Countdown timers ----
    function updateCountdowns(){
      const els = document.querySelectorAll('[data-countdown]');
      els.forEach(el=>{
        const parent = el.closest('[data-deadline]'); if(!parent) return;
        const date = new Date(parent.getAttribute('data-deadline')).getTime(); const now = Date.now(); let diff = date - now;
        if(diff <= 0){ el.textContent = 'LIVE or closed'; return; }
        const d = Math.floor(diff / 86400000); diff -= d*86400000;
        const h = Math.floor(diff / 3600000); diff -= h*3600000;
        const m = Math.floor(diff / 60000); diff -= m*60000; const s = Math.floor(diff/1000);
        el.textContent = `${d}d ${String(h).padStart(2,'0')}h ${String(m).padStart(2,'0')}m ${String(s).padStart(2,'0')}s`;
      });
    }
    updateCountdowns(); setInterval(updateCountdowns,1000);

    // ---- RSVP local storage ----
    document.querySelectorAll('.rsvp').forEach(btn=>{
      const id = btn.dataset.event; const key = 'afex-rsvp-'+id; const saved = localStorage.getItem(key);
      if(saved){ btn.textContent = 'RSVPed ✓'; btn.disabled = true; btn.style.opacity=.8 }
      btn.addEventListener('click', ()=>{ localStorage.setItem(key, Date.now()); btn.textContent='RSVPed ✓'; btn.disabled=true; ping(680,0.09); // small confetti
        runConfetti();
      });
    });

    // ---- Confetti (canvas-based) ----
    function runConfetti(){
      const c = document.createElement('canvas'); c.style.position='fixed'; c.style.left=0; c.style.top=0; c.style.width='100%'; c.style.height='100%'; c.style.pointerEvents='none'; c.style.zIndex=9999; document.body.appendChild(c);
      const ctx = c.getContext('2d'); const DPR = Math.max(1, window.devicePixelRatio||1);
      function resize(){ c.width = Math.floor(window.innerWidth*DPR); c.height = Math.floor(window.innerHeight*DPR); ctx.scale(DPR,DPR); }
      resize(); window.addEventListener('resize', resize);
      const pieces = []; const colors = ['#e879f9','#8b5cf6','#ffd166','#48ffe7','#ff6fb3'];
      for(let i=0;i<120;i++){ pieces.push({x:Math.random()*window.innerWidth, y:-20- Math.random()*200, xv:(Math.random()-.5)*6, yv:Math.random()*6+2, r:Math.random()*6+4, c:colors[Math.floor(Math.random()*colors.length)], rot:Math.random()*360, rv:(Math.random()-.5)*12}); }
      let t=0; function frame(){ ctx.clearRect(0,0,window.innerWidth, window.innerHeight); for(const p of pieces){ p.x += p.xv; p.y += p.yv; p.yv += 0.12; p.rot += p.rv; ctx.save(); ctx.translate(p.x,p.y); ctx.rotate(p.rot*Math.PI/180); ctx.fillStyle = p.c; ctx.fillRect(-p.r/2, -p.r/2, p.r, p.r*0.6); ctx.restore(); }
        t+=1; if(t<240) requestAnimationFrame(frame); else { document.body.removeChild(c); } }
      frame();
    }

    // ---- Dialog / Discord ----
    const DISCORD_INVITE = ''; // set your invite URL here when available
    const discordBtn = document.getElementById('discordBtn'); const discordModal = document.getElementById('discordModal');
    const discordOpen = document.getElementById('discordOpen'); const discordClose = document.getElementById('discordClose');
    const discordState = document.getElementById('discordState');
    discordBtn.addEventListener('click', ()=>{
      if(DISCORD_INVITE){ window.open(DISCORD_INVITE, '_blank', 'noopener'); ping(720,0.09); } else { discordModal.showModal(); ping(600,0.07); discordOpen.href = 'https://discord.com/channels/@me'; }
    });
    discordClose.addEventListener('click', ()=>{ discordModal.close(); ping(420,0.06); });

    // ---- Share button (hero CTA) ----
    document.getElementById('ctaExplore').addEventListener('click', ()=>{ ping(770,0.06); });
    document.getElementById('ctaJoin').addEventListener('click', ()=>{ document.getElementById('join').scrollIntoView({behavior:'smooth'}); ping(980,0.08); runConfetti(); });

    // ---- Print / Palette / Sound toggles ----
    document.getElementById('printBtn').addEventListener('click', ()=>{ window.print(); ping(660,0.06); });
    document.getElementById('palette').addEventListener('click', ()=>{
      const sets = [ ['#d6bfff','#8b5cf6','#ff6fb3','#48ffe7'], ['#e9d8ff','#b794f4','#ffd166','#ff6fb3'], ['#b9a7ff','#7b5cff','#e879f9','#c084fc'] ];
      const sel = (parseInt(localStorage.getItem('afex-pal')||'0',10)+1) % sets.length; localStorage.setItem('afex-pal', sel);
      const s = sets[sel]; document.documentElement.style.setProperty('--vio2', s[0]); document.documentElement.style.setProperty('--vio4', s[1]); document.documentElement.style.setProperty('--accent', s[2]); document.documentElement.style.setProperty('--mint', s[3]); ping(820,0.08);
    });
    document.getElementById('toggleSound').addEventListener('click', function(){ audioEnabled = !audioEnabled; this.textContent = audioEnabled ? '🔊 Sound' : '🔈 Mute'; ping(560,0.06); });

    // ---- Accessibility: keyboard dialog close ----
    window.addEventListener('keydown', (e)=>{ if(e.key === 'Escape'){ if(discordModal.open) discordModal.close(); } });

    // ---- small safety: prefers-reduced-motion ----
    const prm = window.matchMedia('(prefers-reduced-motion: reduce)'); if(prm.matches){ document.querySelectorAll('.reveal').forEach(r=>{ r.style.transition='none'; r.classList.add('show'); }); }

    // ---- Year ----
    document.getElementById('year').textContent = new Date().getFullYear();

    // ---- Friendly tip: console note for maintainers ----
    console.log('AFEX site loaded — edit index.html to customize Discord invite, event dates, and logo (afex.png).');
  </script>
</body>
</html>
